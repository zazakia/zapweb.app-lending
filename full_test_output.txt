
> melann-lending@0.1.0 test
> jest

  console.error
    Test console error

    [0m [90m 47 |[39m     console[33m.[39merror [33m=[39m ([33m...[39margs) [33m=>[39m {
     [90m 48 |[39m       [36mthis[39m[33m.[39mlogError([32m'error'[39m[33m,[39m args[33m.[39mjoin([32m' '[39m)[33m,[39m [32m'console'[39m[33m,[39m { originalArgs[33m:[39m args })
    [31m[1m>[22m[39m[90m 49 |[39m       originalError[33m.[39mapply(console[33m,[39m args)
     [90m    |[39m                     [31m[1m^[22m[39m
     [90m 50 |[39m     }
     [90m 51 |[39m
     [90m 52 |[39m     console[33m.[39mwarn [33m=[39m ([33m...[39margs) [33m=>[39m {[0m

      at console.apply (src/lib/errorLogger.ts:49:21)
      at Object.error (src/lib/__tests__/errorLogger.test.ts:83:15)

  console.warn
    Test console warning

    [0m [90m 52 |[39m     console[33m.[39mwarn [33m=[39m ([33m...[39margs) [33m=>[39m {
     [90m 53 |[39m       [36mthis[39m[33m.[39mlogError([32m'warn'[39m[33m,[39m args[33m.[39mjoin([32m' '[39m)[33m,[39m [32m'console'[39m[33m,[39m { originalArgs[33m:[39m args })
    [31m[1m>[22m[39m[90m 54 |[39m       originalWarn[33m.[39mapply(console[33m,[39m args)
     [90m    |[39m                    [31m[1m^[22m[39m
     [90m 55 |[39m     }
     [90m 56 |[39m
     [90m 57 |[39m     [90m// Optionally capture all console.log for debugging[39m[0m

      at console.apply [as warn] (src/lib/errorLogger.ts:54:20)
      at Object.warn (src/lib/__tests__/errorLogger.test.ts:93:15)

  console.warn
    Failed to load error logs from localStorage: SyntaxError: Unexpected token 'i', "invalid json" is not valid JSON
        at JSON.parse (<anonymous>)
        at ErrorLogger.parse [as loadFromLocalStorage] (D:\GitHub\zapweb.app-lending\src\lib\errorLogger.ts:230:28)
        at loadFromLocalStorage (D:\GitHub\zapweb.app-lending\src\lib\__tests__\errorLogger.test.ts:305:32)
        at Object.<anonymous> (D:\GitHub\zapweb.app-lending\node_modules\expect\build\index.js:1824:9)
        at Object.throwingMatcher [as toThrow] (D:\GitHub\zapweb.app-lending\node_modules\expect\build\index.js:2232:93)
        at Object.toThrow (D:\GitHub\zapweb.app-lending\src\lib\__tests__\errorLogger.test.ts:305:60)
        at Promise.finally.completed (D:\GitHub\zapweb.app-lending\node_modules\jest-circus\build\jestAdapterInit.js:1559:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (D:\GitHub\zapweb.app-lending\node_modules\jest-circus\build\jestAdapterInit.js:1499:10)
        at _callCircusTest (D:\GitHub\zapweb.app-lending\node_modules\jest-circus\build\jestAdapterInit.js:1009:40)
        at _runTest (D:\GitHub\zapweb.app-lending\node_modules\jest-circus\build\jestAdapterInit.js:949:3)
        at _runTestsForDescribeBlock (D:\GitHub\zapweb.app-lending\node_modules\jest-circus\build\jestAdapterInit.js:839:13)
        at _runTestsForDescribeBlock (D:\GitHub\zapweb.app-lending\node_modules\jest-circus\build\jestAdapterInit.js:829:11)
        at _runTestsForDescribeBlock (D:\GitHub\zapweb.app-lending\node_modules\jest-circus\build\jestAdapterInit.js:829:11)
        at run (D:\GitHub\zapweb.app-lending\node_modules\jest-circus\build\jestAdapterInit.js:757:3)
        at runAndTransformResultsToJestFormat (D:\GitHub\zapweb.app-lending\node_modules\jest-circus\build\jestAdapterInit.js:1920:21)
        at jestAdapter (D:\GitHub\zapweb.app-lending\node_modules\jest-circus\build\runner.js:101:19)
        at runTestInternal (D:\GitHub\zapweb.app-lending\node_modules\jest-runner\build\index.js:272:16)
        at runTest (D:\GitHub\zapweb.app-lending\node_modules\jest-runner\build\index.js:340:7)

    [0m [90m 52 |[39m     console[33m.[39mwarn [33m=[39m ([33m...[39margs) [33m=>[39m {
     [90m 53 |[39m       [36mthis[39m[33m.[39mlogError([32m'warn'[39m[33m,[39m args[33m.[39mjoin([32m' '[39m)[33m,[39m [32m'console'[39m[33m,[39m { originalArgs[33m:[39m args })
    [31m[1m>[22m[39m[90m 54 |[39m       originalWarn[33m.[39mapply(console[33m,[39m args)
     [90m    |[39m                    [31m[1m^[22m[39m
     [90m 55 |[39m     }
     [90m 56 |[39m
     [90m 57 |[39m     [90m// Optionally capture all console.log for debugging[39m[0m

      at console.apply [as warn] (src/lib/errorLogger.ts:54:20)
      at ErrorLogger.warn [as loadFromLocalStorage] (src/lib/errorLogger.ts:233:17)
      at loadFromLocalStorage (src/lib/__tests__/errorLogger.test.ts:305:32)
      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)
      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2232:93)
      at Object.toThrow (src/lib/__tests__/errorLogger.test.ts:305:60)

PASS src/lib/__tests__/errorLogger.test.ts
  ErrorLogger
    Manual Logging
      âˆš logs error messages correctly (3 ms)
      âˆš logs different levels correctly (1 ms)
      âˆš generates unique IDs for each log entry (1 ms)
    Console Interception
      âˆš intercepts console.error calls (20 ms)
      âˆš intercepts console.warn calls (4 ms)
    Log Management
      âˆš maintains maximum log limit (241 ms)
      âˆš clears all logs
      âˆš filters logs by level
      âˆš gets recent logs correctly (1 ms)
    Export Functionality
      âˆš exports logs as JSON (1 ms)
      âˆš exports logs as CSV
    Observer Pattern
      âˆš notifies subscribers when new errors are logged
      âˆš unsubscribes correctly (1 ms)
      âˆš supports multiple subscribers
    Statistics
      âˆš calculates statistics correctly (1 ms)
    LocalStorage Integration
      âˆš saves logs to localStorage
      âˆš loads logs from localStorage
      âˆš handles corrupted localStorage data gracefully (13 ms)

PASS src/lib/__tests__/utils.test.ts
  Utils
    formatCurrency
      âˆš formats positive numbers correctly (14 ms)
      âˆš formats zero correctly
      âˆš formats negative numbers correctly
      âˆš handles decimal precision
      âˆš handles very large numbers
      âˆš handles very small numbers (1 ms)
      âˆš handles string input by converting to number
      âˆš handles invalid input gracefully (1 ms)
    formatDate
      âˆš formats date correctly with default locale (3 ms)
      âˆš handles Date object input (1 ms)
      âˆš handles string date input
      âˆš handles different date formats (1 ms)
      âˆš handles invalid date input gracefully
      âˆš handles edge cases (1 ms)
    cn (className utility)
      âˆš merges class names correctly (4 ms)
      âˆš handles conditional classes (1 ms)
      âˆš filters out falsy values
      âˆš handles arrays of classes
      âˆš handles objects with boolean values (1 ms)
      âˆš merges Tailwind classes correctly
      âˆš handles empty input (1 ms)
      âˆš handles complex combinations
    Error Handling
      âˆš handles formatCurrency with non-numeric strings (1 ms)
      âˆš handles formatDate with various input types
      âˆš handles cn with various input types (1 ms)
    Performance
      âˆš formatCurrency performs well with many calls (38 ms)
      âˆš formatDate performs well with many calls (69 ms)
      âˆš cn performs well with many calls (5 ms)

D:\GitHub\zapweb.app-lending\src\lib\__tests__\navigationOptimizer.test.ts:197
                throw new Error('DOM error');
                      ^

[Error: DOM error]

Node.js v24.11.0

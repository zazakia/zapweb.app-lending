
> melann-lending@0.1.0 test:all
> npm run test && npm run test:performance


> melann-lending@0.1.0 test
> jest

  console.error
    Test console error

    [0m [90m 47 |[39m     console[33m.[39merror [33m=[39m ([33m...[39margs) [33m=>[39m {
     [90m 48 |[39m       [36mthis[39m[33m.[39mlogError([32m'error'[39m[33m,[39m args[33m.[39mjoin([32m' '[39m)[33m,[39m [32m'console'[39m[33m,[39m { originalArgs[33m:[39m args })
    [31m[1m>[22m[39m[90m 49 |[39m       originalError[33m.[39mapply(console[33m,[39m args)
     [90m    |[39m                     [31m[1m^[22m[39m
     [90m 50 |[39m     }
     [90m 51 |[39m
     [90m 52 |[39m     console[33m.[39mwarn [33m=[39m ([33m...[39margs) [33m=>[39m {[0m

      at console.apply (src/lib/errorLogger.ts:49:21)
      at Object.error (src/lib/__tests__/errorLogger.test.ts:83:15)

  console.warn
    Failed to create prefetch link: Error: DOM error
        at Document.<anonymous> (D:\GitHub\zapweb.app-lending\src\lib\__tests__\navigationOptimizer.test.ts:214:17)
        at D:\GitHub\zapweb.app-lending\node_modules\jest-mock\build\index.js:305:39
        at Document.<anonymous> (D:\GitHub\zapweb.app-lending\node_modules\jest-mock\build\index.js:312:13)
        at Document.mockConstructor (D:\GitHub\zapweb.app-lending\node_modules\jest-mock\build\index.js:102:19)
        at createElement (D:\GitHub\zapweb.app-lending\src\lib\navigationOptimizer.ts:22:33)

    [0m [90m 25 |[39m           document[33m.[39mhead[33m.[39mappendChild(link)
     [90m 26 |[39m         } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 27 |[39m           console[33m.[39mwarn([32m'Failed to create prefetch link:'[39m[33m,[39m err)
     [90m    |[39m                   [31m[1m^[22m[39m
     [90m 28 |[39m         }
     [90m 29 |[39m       })
     [90m 30 |[39m     }[0m

      at warn (src/lib/navigationOptimizer.ts:27:19)

  console.warn
    Test console warning

    [0m [90m 52 |[39m     console[33m.[39mwarn [33m=[39m ([33m...[39margs) [33m=>[39m {
     [90m 53 |[39m       [36mthis[39m[33m.[39mlogError([32m'warn'[39m[33m,[39m args[33m.[39mjoin([32m' '[39m)[33m,[39m [32m'console'[39m[33m,[39m { originalArgs[33m:[39m args })
    [31m[1m>[22m[39m[90m 54 |[39m       originalWarn[33m.[39mapply(console[33m,[39m args)
     [90m    |[39m                    [31m[1m^[22m[39m
     [90m 55 |[39m     }
     [90m 56 |[39m
     [90m 57 |[39m     [90m// Optionally capture all console.log for debugging[39m[0m

      at console.apply [as warn] (src/lib/errorLogger.ts:54:20)
      at Object.warn (src/lib/__tests__/errorLogger.test.ts:93:15)

  console.warn
    Failed to create prefetch link: Error: Append error
        at Object.<anonymous> (D:\GitHub\zapweb.app-lending\src\lib\__tests__\navigationOptimizer.test.ts:227:17)
        at D:\GitHub\zapweb.app-lending\node_modules\jest-mock\build\index.js:305:39
        at Object.<anonymous> (D:\GitHub\zapweb.app-lending\node_modules\jest-mock\build\index.js:312:13)
        at Object.mockConstructor [as appendChild] (D:\GitHub\zapweb.app-lending\node_modules\jest-mock\build\index.js:102:19)
        at appendChild (D:\GitHub\zapweb.app-lending\src\lib\navigationOptimizer.ts:25:25)

    [0m [90m 25 |[39m           document[33m.[39mhead[33m.[39mappendChild(link)
     [90m 26 |[39m         } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 27 |[39m           console[33m.[39mwarn([32m'Failed to create prefetch link:'[39m[33m,[39m err)
     [90m    |[39m                   [31m[1m^[22m[39m
     [90m 28 |[39m         }
     [90m 29 |[39m       })
     [90m 30 |[39m     }[0m

      at warn (src/lib/navigationOptimizer.ts:27:19)

PASS src/lib/__tests__/navigationOptimizer.test.ts
  NavigationOptimizer
    Route Preloading
      âˆš preloads a route only once (6 ms)
      âˆš preloads multiple different routes (2 ms)
      âˆš creates prefetch link elements (4 ms)
    Data Prefetching
      âˆš prefetches data and caches it (2 ms)
      âˆš returns cached data on subsequent calls (1 ms)
      âˆš handles fetcher errors gracefully (5 ms)
      âˆš gets prefetched data correctly (1 ms)
      âˆš returns undefined for non-cached data (10 ms)
      âˆš clears specific prefetched data
      âˆš clears all prefetched data (1 ms)
    Static State Management
      âˆš maintains preloaded routes across instances (1 ms)
      âˆš maintains prefetched data across instances (1 ms)
    Browser Environment
      âˆš handles missing window object gracefully (1 ms)
      âˆš works in browser environment (1 ms)
    Error Handling
      âˆš handles document.createElement errors gracefully (72 ms)
      âˆš handles appendChild errors gracefully (7 ms)

PASS src/lib/__tests__/utils.test.ts
  Utils
    formatCurrency
      âˆš formats positive numbers correctly (39 ms)
      âˆš formats zero correctly (1 ms)
      âˆš formats negative numbers correctly (8 ms)
      âˆš handles decimal precision (1 ms)
      âˆš handles very large numbers
      âˆš handles very small numbers (1 ms)
      âˆš handles string input by converting to number (1 ms)
      âˆš handles invalid input gracefully (2 ms)
    formatDate
      âˆš formats date correctly with default locale (8 ms)
      âˆš handles Date object input (3 ms)
      âˆš handles string date input (2 ms)
      âˆš handles different date formats (3 ms)
      âˆš handles invalid date input gracefully (1 ms)
      âˆš handles edge cases (4 ms)
    cn (className utility)
      âˆš merges class names correctly (10 ms)
      âˆš handles conditional classes
      âˆš filters out falsy values (1 ms)
      âˆš handles arrays of classes (1 ms)
      âˆš handles objects with boolean values
      âˆš merges Tailwind classes correctly (2 ms)
      âˆš handles empty input (1 ms)
      âˆš handles complex combinations (1 ms)
    Error Handling
      âˆš handles formatCurrency with non-numeric strings (1 ms)
      âˆš handles formatDate with various input types (1 ms)
      âˆš handles cn with various input types (1 ms)
    Performance
      âˆš formatCurrency performs well with many calls (78 ms)
      âˆš formatDate performs well with many calls (94 ms)
      âˆš cn performs well with many calls (5 ms)

PASS src/components/__tests__/LayoutSwitcher.test.tsx
  LayoutSwitcher
    âˆš renders TopNavigationLayout when navigationPosition is top (33 ms)
    âˆš renders SidebarNavigationLayout when navigationPosition is left (6 ms)
    âˆš defaults to TopNavigationLayout for unknown navigationPosition (3 ms)
    âˆš re-renders when settings change (5 ms)
    âˆš passes children to both layout types (8 ms)
    âˆš memoizes layout rendering correctly (2 ms)

  console.warn
    Failed to load error logs from localStorage: SyntaxError: Unexpected token 'i', "invalid json" is not valid JSON
        at JSON.parse (<anonymous>)
        at ErrorLogger.parse [as loadFromLocalStorage] (D:\GitHub\zapweb.app-lending\src\lib\errorLogger.ts:230:28)
        at loadFromLocalStorage (D:\GitHub\zapweb.app-lending\src\lib\__tests__\errorLogger.test.ts:305:32)
        at Object.<anonymous> (D:\GitHub\zapweb.app-lending\node_modules\expect\build\index.js:1824:9)
        at Object.throwingMatcher [as toThrow] (D:\GitHub\zapweb.app-lending\node_modules\expect\build\index.js:2232:93)
        at Object.toThrow (D:\GitHub\zapweb.app-lending\src\lib\__tests__\errorLogger.test.ts:305:60)
        at Promise.finally.completed (D:\GitHub\zapweb.app-lending\node_modules\jest-circus\build\jestAdapterInit.js:1559:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (D:\GitHub\zapweb.app-lending\node_modules\jest-circus\build\jestAdapterInit.js:1499:10)
        at _callCircusTest (D:\GitHub\zapweb.app-lending\node_modules\jest-circus\build\jestAdapterInit.js:1009:40)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)
        at _runTest (D:\GitHub\zapweb.app-lending\node_modules\jest-circus\build\jestAdapterInit.js:949:3)
        at _runTestsForDescribeBlock (D:\GitHub\zapweb.app-lending\node_modules\jest-circus\build\jestAdapterInit.js:839:13)
        at _runTestsForDescribeBlock (D:\GitHub\zapweb.app-lending\node_modules\jest-circus\build\jestAdapterInit.js:829:11)
        at _runTestsForDescribeBlock (D:\GitHub\zapweb.app-lending\node_modules\jest-circus\build\jestAdapterInit.js:829:11)
        at run (D:\GitHub\zapweb.app-lending\node_modules\jest-circus\build\jestAdapterInit.js:757:3)
        at runAndTransformResultsToJestFormat (D:\GitHub\zapweb.app-lending\node_modules\jest-circus\build\jestAdapterInit.js:1920:21)
        at jestAdapter (D:\GitHub\zapweb.app-lending\node_modules\jest-circus\build\runner.js:101:19)
        at runTestInternal (D:\GitHub\zapweb.app-lending\node_modules\jest-runner\build\testWorker.js:272:16)
        at runTest (D:\GitHub\zapweb.app-lending\node_modules\jest-runner\build\testWorker.js:340:7)
        at Object.worker (D:\GitHub\zapweb.app-lending\node_modules\jest-runner\build\testWorker.js:494:12)

    [0m [90m 52 |[39m     console[33m.[39mwarn [33m=[39m ([33m...[39margs) [33m=>[39m {
     [90m 53 |[39m       [36mthis[39m[33m.[39mlogError([32m'warn'[39m[33m,[39m args[33m.[39mjoin([32m' '[39m)[33m,[39m [32m'console'[39m[33m,[39m { originalArgs[33m:[39m args })
    [31m[1m>[22m[39m[90m 54 |[39m       originalWarn[33m.[39mapply(console[33m,[39m args)
     [90m    |[39m                    [31m[1m^[22m[39m
     [90m 55 |[39m     }
     [90m 56 |[39m
     [90m 57 |[39m     [90m// Optionally capture all console.log for debugging[39m[0m

      at console.apply [as warn] (src/lib/errorLogger.ts:54:20)
      at ErrorLogger.warn [as loadFromLocalStorage] (src/lib/errorLogger.ts:233:17)
      at loadFromLocalStorage (src/lib/__tests__/errorLogger.test.ts:305:32)
      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)
      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2232:93)
      at Object.toThrow (src/lib/__tests__/errorLogger.test.ts:305:60)

PASS src/lib/__tests__/errorLogger.test.ts
  ErrorLogger
    Manual Logging
      âˆš logs error messages correctly (10 ms)
      âˆš logs different levels correctly (3 ms)
      âˆš generates unique IDs for each log entry (1 ms)
    Console Interception
      âˆš intercepts console.error calls (74 ms)
      âˆš intercepts console.warn calls (18 ms)
    Log Management
      âˆš maintains maximum log limit (378 ms)
      âˆš clears all logs
      âˆš filters logs by level (1 ms)
      âˆš gets recent logs correctly (1 ms)
    Export Functionality
      âˆš exports logs as JSON (1 ms)
      âˆš exports logs as CSV (1 ms)
    Observer Pattern
      âˆš notifies subscribers when new errors are logged (1 ms)
      âˆš unsubscribes correctly
      âˆš supports multiple subscribers (1 ms)
    Statistics
      âˆš calculates statistics correctly
    LocalStorage Integration
      âˆš saves logs to localStorage
      âˆš loads logs from localStorage
      âˆš handles corrupted localStorage data gracefully (14 ms)

PASS src/components/__tests__/ErrorMonitor.test.tsx
  ErrorMonitor
    âˆš renders error monitor with initial state (66 ms)
    âˆš displays error statistics correctly (25 ms)
    âˆš can be hidden and shown (83 ms)
    âˆš filters logs by level (36 ms)
    âˆš clears logs when clear button is clicked (29 ms)
    âˆš exports logs as JSON (18 ms)
    âˆš exports logs as CSV (20 ms)
    âˆš displays error logs correctly (13 ms)
    âˆš shows error badge when hidden and errors exist (3 ms)
    âˆš toggles auto-refresh correctly (16 ms)
    âˆš displays "No logs to display" when empty (10 ms)
    âˆš subscribes to new errors on mount (10 ms)
    âˆš handles error context expansion (14 ms)

  console.error
    An update to OptimizedNavigationButton inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m  96 |[39m       [36mreturn[39m
     [90m  97 |[39m     }
    [31m[1m>[22m[39m[90m  98 |[39m     originalError[33m.[39mcall(console[33m,[39m [33m...[39margs)
     [90m     |[39m                   [31m[1m^[22m[39m
     [90m  99 |[39m   }
     [90m 100 |[39m })
     [90m 101 |[39m[0m

      at console.call [as error] (jest.setup.js:98:19)
      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)
      at setIsLoading (src/components/OptimizedNavigationButton.tsx:42:22)
      at callTimer (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:806:24)
      at doTickInner (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1413:29)
      at doTick (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1494:20)
      at Object.tick (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1502:20)
      at FakeTimers.advanceTimersByTime (node_modules/@jest/fake-timers/build/index.js:576:19)
      at Object.advanceTimersByTime (src/components/__tests__/OptimizedNavigationButton.test.tsx:180:10)

PASS src/components/__tests__/OptimizedNavigationButton.test.tsx
  OptimizedNavigationButton
    âˆš renders with correct label and shortcut (39 ms)
    âˆš renders with correct accessibility attributes (53 ms)
    âˆš calls navigate function when clicked (30 ms)
    âˆš calls preloadOnHover when mouse enters (10 ms)
    âˆš shows loading state when clicked (57 ms)
    âˆš does not navigate when disabled (61 ms)
    âˆš applies correct CSS classes for color scheme (6 ms)
    âˆš handles touch events for mobile (5 ms)
    âˆš prevents multiple rapid clicks (172 ms)
    âˆš renders different variants correctly (6 ms)
    âˆš renders different sizes correctly (5 ms)
    âˆš renders icon component correctly (4 ms)
    âˆš handles keyboard events correctly (46 ms)
    âˆš resets loading state after timeout (45 ms)

  console.log
    Login attempt failed or already logged in: net::ERR_CONNECTION_REFUSED at http://127.0.0.1:3000/login

      at log (tests/performance/navigation.test.js:60:15)

  console.log
    Login attempt failed or already logged in: net::ERR_CONNECTION_REFUSED at http://127.0.0.1:3000/login

      at log (tests/performance/webVitals.test.js:58:15)

  console.warn
    Navigation test skipped: net::ERR_CONNECTION_REFUSED at http://127.0.0.1:3000

    [0m [90m 88 |[39m       [36mreturn[39m navigationTime
     [90m 89 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 90 |[39m       console[33m.[39mwarn([32m`Navigation test skipped: ${error.message}`[39m)
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 91 |[39m       [36mreturn[39m [36mnull[39m
     [90m 92 |[39m     }
     [90m 93 |[39m   }[0m

      at warn (tests/performance/navigation.test.js:90:15)
      at Object.<anonymous> (tests/performance/navigation.test.js:96:28)

  console.warn
    Web Vitals measurement failed: net::ERR_CONNECTION_REFUSED at http://127.0.0.1:3000

    [0m [90m 116 |[39m       [36mreturn[39m vitals
     [90m 117 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 118 |[39m       console[33m.[39mwarn([32m`Web Vitals measurement failed: ${error.message}`[39m)
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 119 |[39m       [36mreturn[39m [36mnull[39m
     [90m 120 |[39m     }
     [90m 121 |[39m   }[0m

      at warn (tests/performance/webVitals.test.js:118:15)
      at Object.<anonymous> (tests/performance/webVitals.test.js:124:20)

  console.log
    Login attempt failed or already logged in: net::ERR_CONNECTION_REFUSED at http://127.0.0.1:3000/login

      at log (tests/performance/navigation.test.js:60:15)

  console.log
    Login attempt failed or already logged in: net::ERR_CONNECTION_REFUSED at http://127.0.0.1:3000/login

      at log (tests/performance/webVitals.test.js:58:15)

  console.warn
    Navigation test skipped: net::ERR_CONNECTION_REFUSED at http://127.0.0.1:3000

    [0m [90m 88 |[39m       [36mreturn[39m navigationTime
     [90m 89 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 90 |[39m       console[33m.[39mwarn([32m`Navigation test skipped: ${error.message}`[39m)
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 91 |[39m       [36mreturn[39m [36mnull[39m
     [90m 92 |[39m     }
     [90m 93 |[39m   }[0m

      at warn (tests/performance/navigation.test.js:90:15)
      at Object.<anonymous> (tests/performance/navigation.test.js:109:28)

  console.warn
    Web Vitals measurement failed: net::ERR_CONNECTION_REFUSED at http://127.0.0.1:3000/customers

    [0m [90m 116 |[39m       [36mreturn[39m vitals
     [90m 117 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 118 |[39m       console[33m.[39mwarn([32m`Web Vitals measurement failed: ${error.message}`[39m)
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 119 |[39m       [36mreturn[39m [36mnull[39m
     [90m 120 |[39m     }
     [90m 121 |[39m   }[0m

      at warn (tests/performance/webVitals.test.js:118:15)
      at Object.<anonymous> (tests/performance/webVitals.test.js:149:20)

  console.log
    Login attempt failed or already logged in: net::ERR_CONNECTION_REFUSED at http://127.0.0.1:3000/login

      at log (tests/performance/navigation.test.js:60:15)

  console.warn
    TTI test skipped: net::ERR_CONNECTION_REFUSED at http://127.0.0.1:3000

    [0m [90m 184 |[39m       }
     [90m 185 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 186 |[39m       console[33m.[39mwarn([32m`TTI test skipped: ${error.message}`[39m)
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 187 |[39m     }
     [90m 188 |[39m   }[33m,[39m [35m30000[39m)
     [90m 189 |[39m[0m

      at Object.warn (tests/performance/webVitals.test.js:186:15)

  console.warn
    Navigation test skipped: net::ERR_CONNECTION_REFUSED at http://127.0.0.1:3000

    [0m [90m 88 |[39m       [36mreturn[39m navigationTime
     [90m 89 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 90 |[39m       console[33m.[39mwarn([32m`Navigation test skipped: ${error.message}`[39m)
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 91 |[39m       [36mreturn[39m [36mnull[39m
     [90m 92 |[39m     }
     [90m 93 |[39m   }[0m

      at warn (tests/performance/navigation.test.js:90:15)
      at Object.<anonymous> (tests/performance/navigation.test.js:122:28)

  console.warn
    TBT test skipped: net::ERR_CONNECTION_REFUSED at http://127.0.0.1:3000

    [0m [90m 231 |[39m       expect(tbt)[33m.[39mtoBeLessThan([35m300[39m) [90m// TBT should be under 300ms for good performance[39m
     [90m 232 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 233 |[39m       console[33m.[39mwarn([32m`TBT test skipped: ${error.message}`[39m)
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 234 |[39m     }
     [90m 235 |[39m   }[33m,[39m [35m30000[39m)
     [90m 236 |[39m[0m

      at Object.warn (tests/performance/webVitals.test.js:233:15)

  console.warn
    Click response test skipped: net::ERR_CONNECTION_REFUSED at http://127.0.0.1:3000

    [0m [90m 161 |[39m       }
     [90m 162 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 163 |[39m       console[33m.[39mwarn([32m`Click response test skipped: ${error.message}`[39m)
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 164 |[39m     }
     [90m 165 |[39m   }[33m,[39m [35m30000[39m)
     [90m 166 |[39m[0m

      at Object.warn (tests/performance/navigation.test.js:163:15)

  console.warn
    INP test skipped: net::ERR_CONNECTION_REFUSED at http://127.0.0.1:3000

    [0m [90m 275 |[39m       expect(avgInteractionTime)[33m.[39mtoBeLessThan([35m200[39m) [90m// Good INP threshold[39m
     [90m 276 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 277 |[39m       console[33m.[39mwarn([32m`INP test skipped: ${error.message}`[39m)
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 278 |[39m     }
     [90m 279 |[39m   }[33m,[39m [35m30000[39m)
     [90m 280 |[39m[0m

      at Object.warn (tests/performance/webVitals.test.js:277:15)

  console.warn
    Preload test skipped: net::ERR_CONNECTION_REFUSED at http://127.0.0.1:3000

    [0m [90m 185 |[39m       expect(preloadedCriticalRoutes[33m.[39mlength)[33m.[39mtoBeGreaterThan([35m0[39m)
     [90m 186 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 187 |[39m       console[33m.[39mwarn([32m`Preload test skipped: ${error.message}`[39m)
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 188 |[39m     }
     [90m 189 |[39m   }[33m,[39m [35m30000[39m)
     [90m 190 |[39m[0m

      at Object.warn (tests/performance/navigation.test.js:187:15)

  console.warn
    Resource metrics test skipped: net::ERR_CONNECTION_REFUSED at http://127.0.0.1:3000

    [0m [90m 329 |[39m
     [90m 330 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 331 |[39m       console[33m.[39mwarn([32m`Resource metrics test skipped: ${error.message}`[39m)
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 332 |[39m     }
     [90m 333 |[39m   }[33m,[39m [35m30000[39m)
     [90m 334 |[39m[0m

      at Object.warn (tests/performance/webVitals.test.js:331:15)

  console.warn
    Rapid navigation test skipped: net::ERR_CONNECTION_REFUSED at http://127.0.0.1:3000

    [0m [90m 223 |[39m
     [90m 224 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 225 |[39m       console[33m.[39mwarn([32m`Rapid navigation test skipped: ${error.message}`[39m)
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 226 |[39m     }
     [90m 227 |[39m   }[33m,[39m [35m60000[39m)
     [90m 228 |[39m[0m

      at Object.warn (tests/performance/navigation.test.js:225:15)

  console.warn
    Consistency test skipped: net::ERR_CONNECTION_REFUSED at http://127.0.0.1:3000

    [0m [90m 372 |[39m
     [90m 373 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 374 |[39m       console[33m.[39mwarn([32m`Consistency test skipped: ${error.message}`[39m)
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 375 |[39m     }
     [90m 376 |[39m   }[33m,[39m [35m60000[39m)
     [90m 377 |[39m })[0m

      at Object.warn (tests/performance/webVitals.test.js:374:15)

PASS tests/performance/webVitals.test.js (20.748 s)
  Web Vitals Performance Tests
    âˆš should meet Core Web Vitals thresholds for home page (4554 ms)
    âˆš should meet Core Web Vitals thresholds for customers page (4151 ms)
    âˆš should measure Time to Interactive (TTI) (2086 ms)
    âˆš should measure Total Blocking Time (TBT) (2108 ms)
    âˆš should measure Interaction to Next Paint (INP) (2095 ms)
    âˆš should measure resource loading performance (2083 ms)
    âˆš should maintain consistent performance across multiple page loads (2091 ms)

  console.warn
    Load simulation test skipped: net::ERR_CONNECTION_REFUSED at http://127.0.0.1:3000

    [0m [90m 258 |[39m
     [90m 259 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 260 |[39m       console[33m.[39mwarn([32m`Load simulation test skipped: ${error.message}`[39m)
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 261 |[39m     }
     [90m 262 |[39m   }[33m,[39m [35m45000[39m)
     [90m 263 |[39m[0m

      at Object.warn (tests/performance/navigation.test.js:260:15)

  console.warn
    Memory test skipped: net::ERR_CONNECTION_REFUSED at http://127.0.0.1:3000

    [0m [90m 315 |[39m       }
     [90m 316 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 317 |[39m       console[33m.[39mwarn([32m`Memory test skipped: ${error.message}`[39m)
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 318 |[39m     }
     [90m 319 |[39m   }[33m,[39m [35m45000[39m)
     [90m 320 |[39m })[0m

      at Object.warn (tests/performance/navigation.test.js:317:15)

PASS tests/performance/navigation.test.js (24.735 s)
  Navigation Performance Tests
    âˆš should navigate to customers page quickly (4434 ms)
    âˆš should navigate to loans page quickly (4160 ms)
    âˆš should navigate to payments page quickly (4134 ms)
    âˆš should have fast click response times (2087 ms)
    âˆš should preload routes effectively (2081 ms)
    âˆš should handle rapid navigation without performance degradation (2086 ms)
    âˆš should maintain performance under load simulation (2076 ms)
    âˆš should efficiently handle memory usage during navigation (2092 ms)

Test Suites: 8 passed, 8 total
Tests:       110 passed, 110 total
Snapshots:   0 total
Time:        25.354 s, estimated 30 s
Ran all test suites.

> melann-lending@0.1.0 test:performance
> jest tests/performance --testTimeout=60000

  console.log
    Login attempt failed or already logged in: net::ERR_CONNECTION_REFUSED at http://127.0.0.1:3000/login

      at log (tests/performance/webVitals.test.js:58:15)

  console.log
    Login attempt failed or already logged in: net::ERR_CONNECTION_REFUSED at http://127.0.0.1:3000/login

      at log (tests/performance/navigation.test.js:60:15)

  console.warn
    Web Vitals measurement failed: net::ERR_CONNECTION_REFUSED at http://127.0.0.1:3000

    [0m [90m 116 |[39m       [36mreturn[39m vitals
     [90m 117 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 118 |[39m       console[33m.[39mwarn([32m`Web Vitals measurement failed: ${error.message}`[39m)
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 119 |[39m       [36mreturn[39m [36mnull[39m
     [90m 120 |[39m     }
     [90m 121 |[39m   }[0m

      at warn (tests/performance/webVitals.test.js:118:15)
      at Object.<anonymous> (tests/performance/webVitals.test.js:124:20)

  console.warn
    Navigation test skipped: net::ERR_CONNECTION_REFUSED at http://127.0.0.1:3000

    [0m [90m 88 |[39m       [36mreturn[39m navigationTime
     [90m 89 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 90 |[39m       console[33m.[39mwarn([32m`Navigation test skipped: ${error.message}`[39m)
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 91 |[39m       [36mreturn[39m [36mnull[39m
     [90m 92 |[39m     }
     [90m 93 |[39m   }[0m

      at warn (tests/performance/navigation.test.js:90:15)
      at Object.<anonymous> (tests/performance/navigation.test.js:96:28)

  console.log
    Login attempt failed or already logged in: net::ERR_CONNECTION_REFUSED at http://127.0.0.1:3000/login

      at log (tests/performance/navigation.test.js:60:15)

  console.log
    Login attempt failed or already logged in: net::ERR_CONNECTION_REFUSED at http://127.0.0.1:3000/login

      at log (tests/performance/webVitals.test.js:58:15)

  console.warn
    Web Vitals measurement failed: net::ERR_CONNECTION_REFUSED at http://127.0.0.1:3000/customers

    [0m [90m 116 |[39m       [36mreturn[39m vitals
     [90m 117 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 118 |[39m       console[33m.[39mwarn([32m`Web Vitals measurement failed: ${error.message}`[39m)
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 119 |[39m       [36mreturn[39m [36mnull[39m
     [90m 120 |[39m     }
     [90m 121 |[39m   }[0m

      at warn (tests/performance/webVitals.test.js:118:15)
      at Object.<anonymous> (tests/performance/webVitals.test.js:149:20)

  console.warn
    Navigation test skipped: net::ERR_CONNECTION_REFUSED at http://127.0.0.1:3000

    [0m [90m 88 |[39m       [36mreturn[39m navigationTime
     [90m 89 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 90 |[39m       console[33m.[39mwarn([32m`Navigation test skipped: ${error.message}`[39m)
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 91 |[39m       [36mreturn[39m [36mnull[39m
     [90m 92 |[39m     }
     [90m 93 |[39m   }[0m

      at warn (tests/performance/navigation.test.js:90:15)
      at Object.<anonymous> (tests/performance/navigation.test.js:109:28)

  console.log
    Login attempt failed or already logged in: net::ERR_CONNECTION_REFUSED at http://127.0.0.1:3000/login

      at log (tests/performance/navigation.test.js:60:15)

  console.warn
    TTI test skipped: net::ERR_CONNECTION_REFUSED at http://127.0.0.1:3000

    [0m [90m 184 |[39m       }
     [90m 185 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 186 |[39m       console[33m.[39mwarn([32m`TTI test skipped: ${error.message}`[39m)
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 187 |[39m     }
     [90m 188 |[39m   }[33m,[39m [35m30000[39m)
     [90m 189 |[39m[0m

      at Object.warn (tests/performance/webVitals.test.js:186:15)

  console.warn
    Navigation test skipped: net::ERR_CONNECTION_REFUSED at http://127.0.0.1:3000

    [0m [90m 88 |[39m       [36mreturn[39m navigationTime
     [90m 89 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 90 |[39m       console[33m.[39mwarn([32m`Navigation test skipped: ${error.message}`[39m)
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 91 |[39m       [36mreturn[39m [36mnull[39m
     [90m 92 |[39m     }
     [90m 93 |[39m   }[0m

      at warn (tests/performance/navigation.test.js:90:15)
      at Object.<anonymous> (tests/performance/navigation.test.js:122:28)

  console.warn
    TBT test skipped: net::ERR_CONNECTION_REFUSED at http://127.0.0.1:3000

    [0m [90m 231 |[39m       expect(tbt)[33m.[39mtoBeLessThan([35m300[39m) [90m// TBT should be under 300ms for good performance[39m
     [90m 232 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 233 |[39m       console[33m.[39mwarn([32m`TBT test skipped: ${error.message}`[39m)
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 234 |[39m     }
     [90m 235 |[39m   }[33m,[39m [35m30000[39m)
     [90m 236 |[39m[0m

      at Object.warn (tests/performance/webVitals.test.js:233:15)

  console.warn
    Click response test skipped: net::ERR_CONNECTION_REFUSED at http://127.0.0.1:3000

    [0m [90m 161 |[39m       }
     [90m 162 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 163 |[39m       console[33m.[39mwarn([32m`Click response test skipped: ${error.message}`[39m)
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 164 |[39m     }
     [90m 165 |[39m   }[33m,[39m [35m30000[39m)
     [90m 166 |[39m[0m

      at Object.warn (tests/performance/navigation.test.js:163:15)

  console.warn
    INP test skipped: net::ERR_CONNECTION_REFUSED at http://127.0.0.1:3000

    [0m [90m 275 |[39m       expect(avgInteractionTime)[33m.[39mtoBeLessThan([35m200[39m) [90m// Good INP threshold[39m
     [90m 276 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 277 |[39m       console[33m.[39mwarn([32m`INP test skipped: ${error.message}`[39m)
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 278 |[39m     }
     [90m 279 |[39m   }[33m,[39m [35m30000[39m)
     [90m 280 |[39m[0m

      at Object.warn (tests/performance/webVitals.test.js:277:15)

  console.warn
    Preload test skipped: net::ERR_CONNECTION_REFUSED at http://127.0.0.1:3000

    [0m [90m 185 |[39m       expect(preloadedCriticalRoutes[33m.[39mlength)[33m.[39mtoBeGreaterThan([35m0[39m)
     [90m 186 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 187 |[39m       console[33m.[39mwarn([32m`Preload test skipped: ${error.message}`[39m)
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 188 |[39m     }
     [90m 189 |[39m   }[33m,[39m [35m30000[39m)
     [90m 190 |[39m[0m

      at Object.warn (tests/performance/navigation.test.js:187:15)

  console.warn
    Resource metrics test skipped: net::ERR_CONNECTION_REFUSED at http://127.0.0.1:3000

    [0m [90m 329 |[39m
     [90m 330 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 331 |[39m       console[33m.[39mwarn([32m`Resource metrics test skipped: ${error.message}`[39m)
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 332 |[39m     }
     [90m 333 |[39m   }[33m,[39m [35m30000[39m)
     [90m 334 |[39m[0m

      at Object.warn (tests/performance/webVitals.test.js:331:15)

  console.warn
    Rapid navigation test skipped: net::ERR_CONNECTION_REFUSED at http://127.0.0.1:3000

    [0m [90m 223 |[39m
     [90m 224 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 225 |[39m       console[33m.[39mwarn([32m`Rapid navigation test skipped: ${error.message}`[39m)
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 226 |[39m     }
     [90m 227 |[39m   }[33m,[39m [35m60000[39m)
     [90m 228 |[39m[0m

      at Object.warn (tests/performance/navigation.test.js:225:15)

  console.warn
    Consistency test skipped: net::ERR_CONNECTION_REFUSED at http://127.0.0.1:3000

    [0m [90m 372 |[39m
     [90m 373 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 374 |[39m       console[33m.[39mwarn([32m`Consistency test skipped: ${error.message}`[39m)
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 375 |[39m     }
     [90m 376 |[39m   }[33m,[39m [35m60000[39m)
     [90m 377 |[39m })[0m

      at Object.warn (tests/performance/webVitals.test.js:374:15)

PASS tests/performance/webVitals.test.js (20.146 s)
  Web Vitals Performance Tests
    âˆš should meet Core Web Vitals thresholds for home page (4321 ms)
    âˆš should meet Core Web Vitals thresholds for customers page (4149 ms)
    âˆš should measure Time to Interactive (TTI) (2115 ms)
    âˆš should measure Total Blocking Time (TBT) (2111 ms)
    âˆš should measure Interaction to Next Paint (INP) (2100 ms)
    âˆš should measure resource loading performance (2085 ms)
    âˆš should maintain consistent performance across multiple page loads (2107 ms)

  console.warn
    Load simulation test skipped: net::ERR_CONNECTION_REFUSED at http://127.0.0.1:3000

    [0m [90m 258 |[39m
     [90m 259 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 260 |[39m       console[33m.[39mwarn([32m`Load simulation test skipped: ${error.message}`[39m)
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 261 |[39m     }
     [90m 262 |[39m   }[33m,[39m [35m45000[39m)
     [90m 263 |[39m[0m

      at Object.warn (tests/performance/navigation.test.js:260:15)

  console.warn
    Memory test skipped: net::ERR_CONNECTION_REFUSED at http://127.0.0.1:3000

    [0m [90m 315 |[39m       }
     [90m 316 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 317 |[39m       console[33m.[39mwarn([32m`Memory test skipped: ${error.message}`[39m)
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 318 |[39m     }
     [90m 319 |[39m   }[33m,[39m [35m45000[39m)
     [90m 320 |[39m })[0m

      at Object.warn (tests/performance/navigation.test.js:317:15)

PASS tests/performance/navigation.test.js (24.219 s)
  Navigation Performance Tests
    âˆš should navigate to customers page quickly (4318 ms)
    âˆš should navigate to loans page quickly (4149 ms)
    âˆš should navigate to payments page quickly (4166 ms)
    âˆš should have fast click response times (2083 ms)
    âˆš should preload routes effectively (2084 ms)
    âˆš should handle rapid navigation without performance degradation (2092 ms)
    âˆš should maintain performance under load simulation (2086 ms)
    âˆš should efficiently handle memory usage during navigation (2082 ms)

Test Suites: 2 passed, 2 total
Tests:       15 passed, 15 total
Snapshots:   0 total
Time:        24.669 s, estimated 25 s
Ran all test suites matching tests/performance.
